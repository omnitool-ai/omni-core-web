import n from"assignment";var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},e=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,i=/[&<>"']/g;function o(n){return t[n]}function a(n){return r[n]}function s(n){return null==n?"":String(n).replace(i,o)}function u(n){return null==n?"":String(n).replace(e,a)}s.options=u.options={};var f={encode:s,escape:s,decode:u,unescape:u,version:"1.0.0-browser"},l=function(n){return"string"==typeof n?n.toLowerCase():n};function c(n,t){return n[t]=!0,n}var d=function(n){return n.reduce(c,{})},g={uris:d(["background","base","cite","href","longdesc","src","usemap"])},v={voids:d(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])},m=f,h=l,p=v,b=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,w=/^<\s*\/\s*([\w:-]+)[^>]*>/,x=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,O=/^</,k=/^<\s*\//;var y=function(n,t){for(var r,e=function(){var n=[];return n.lastItem=function(){return n[n.length-1]},n}(),i=n;n;)o();function o(){r=!0,function(){"\x3c!--"===n.substr(0,4)?(e=n.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(n.substring(4,e)),n=n.substring(e+3),r=!1):k.test(n)?a(w,u):O.test(n)&&a(b,s);var e;!function(){if(!r)return;var e,i=n.indexOf("<");i>=0?(e=n.substring(0,i),n=n.substring(i)):(e=n,n="");t.chars&&t.chars(e)}()}();var e=n===i;i=n,e&&(n="")}function a(t,e){var i=n.match(t);i&&(n=n.substring(i[0].length),i[0].replace(t,e),r=!1)}function s(n,r,i,o){var a={},s=h(r),u=p.voids[s]||!!o;i.replace(x,(function(n,t,r,e,i){a[t]=void 0===r&&void 0===e&&void 0===i?void 0:m.decode(r||e||i||"")})),u||e.push(s),t.start&&t.start(s,a,u)}function u(n,r){var i,o=0,a=h(r);if(a)for(o=e.length-1;o>=0&&e[o]!==a;o--);if(o>=0){for(i=e.length-1;i>=o;i--)t.end&&t.end(e[i]);e.length=o}}u()},T=f,q=l,S=g,j=v;var C=n,A=y,E=function(n,t){var r,e=t||{};return s(),{start:function(n,t,a){var s=q(n);if(r.ignoring)return void o(s);if(-1===(e.allowedTags||[]).indexOf(s))return void o(s);if(e.filter&&!e.filter({tag:s,attrs:t}))return void o(s);i("<"),i(s),Object.keys(t).forEach((function(n){var r,o=t[n],a=(e.allowedClasses||{})[s]||[],u=(e.allowedAttributes||{})[s]||[],f=q(n);r="class"===f&&-1===u.indexOf(f)?(o=o.split(" ").filter((function(n){return a&&-1!==a.indexOf(n)})).join(" ").trim()).length:-1!==u.indexOf(f)&&(!0!==S.uris[f]||function(n){var t=n[0];if("#"===t||"/"===t)return!0;var r=n.indexOf(":");if(-1===r)return!0;var i=n.indexOf("?");if(-1!==i&&r>i)return!0;var o=n.indexOf("#");return-1!==o&&r>o||e.allowedSchemes.some(a);function a(t){return 0===n.indexOf(t+":")}}(o)),r&&(i(" "),i(n),"string"==typeof o&&(i('="'),i(T.encode(o)),i('"')))})),i(a?"/>":">")},end:function(n){var t=q(n);-1!==(e.allowedTags||[]).indexOf(t)&&!1===r.ignoring?(i("</"),i(t),i(">")):a(t)},chars:function(n){!1===r.ignoring&&i(e.transformText?e.transformText(n):n)}};function i(t){n.push(t)}function o(n){j.voids[n]||(!1===r.ignoring?r={ignoring:n,depth:1}:r.ignoring===n&&r.depth++)}function a(n){r.ignoring===n&&--r.depth<=0&&s()}function s(){r={ignoring:!1,depth:0}}},I={allowedAttributes:{a:["href","name","target","title","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};function L(n,t,r){var e=[],i=!0===r?t:C({},I,t),o=E(e,i);return A(n,o),e.join("")}L.defaults=I;var z=L,B=z.defaults;export{z as default,B as defaults};